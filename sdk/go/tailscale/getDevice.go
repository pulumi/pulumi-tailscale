// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package tailscale

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-tailscale/sdk/go/tailscale/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// The device data source describes a single device in a tailnet
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-tailscale/sdk/go/tailscale"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := tailscale.GetDevice(ctx, &tailscale.GetDeviceArgs{
//				Name:    pulumi.StringRef("device1.example.ts.net"),
//				WaitFor: pulumi.StringRef("60s"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = tailscale.GetDevice(ctx, &tailscale.GetDeviceArgs{
//				Hostname: pulumi.StringRef("device2"),
//				WaitFor:  pulumi.StringRef("60s"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func GetDevice(ctx *pulumi.Context, args *GetDeviceArgs, opts ...pulumi.InvokeOption) (*GetDeviceResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv GetDeviceResult
	err := ctx.Invoke("tailscale:index/getDevice:getDevice", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getDevice.
type GetDeviceArgs struct {
	// The short hostname of the device
	Hostname *string `pulumi:"hostname"`
	// The full name of the device (e.g. `hostname.domain.ts.net`)
	Name *string `pulumi:"name"`
	// If specified, the provider will make multiple attempts to obtain the data source until the waitFor duration is reached. Retries are made every second so this value should be greater than 1s
	WaitFor *string `pulumi:"waitFor"`
}

// A collection of values returned by getDevice.
type GetDeviceResult struct {
	// The list of device's IPs
	Addresses []string `pulumi:"addresses"`
	// Whether the device is authorized to access the tailnet
	Authorized bool `pulumi:"authorized"`
	// Whether the device blocks incoming connections
	BlocksIncomingConnections bool `pulumi:"blocksIncomingConnections"`
	// The Tailscale client version running on the device
	ClientVersion string `pulumi:"clientVersion"`
	// The creation time of the device
	Created string `pulumi:"created"`
	// The expiry time of the device's key
	Expires string `pulumi:"expires"`
	// The short hostname of the device
	Hostname *string `pulumi:"hostname"`
	// The provider-assigned unique ID for this managed resource.
	Id string `pulumi:"id"`
	// Whether the device is marked as external
	IsExternal bool `pulumi:"isExternal"`
	// Whether the device's key expiry is disabled
	KeyExpiryDisabled bool `pulumi:"keyExpiryDisabled"`
	// The last seen time of the device
	LastSeen string `pulumi:"lastSeen"`
	// The machine key of the device
	MachineKey string `pulumi:"machineKey"`
	// The full name of the device (e.g. `hostname.domain.ts.net`)
	Name *string `pulumi:"name"`
	// The preferred indentifier for a device.
	NodeId string `pulumi:"nodeId"`
	// The node key of the device
	NodeKey string `pulumi:"nodeKey"`
	// The operating system of the device
	Os string `pulumi:"os"`
	// The tags applied to the device
	Tags []string `pulumi:"tags"`
	// The tailnet lock error for the device, if any
	TailnetLockError string `pulumi:"tailnetLockError"`
	// The tailnet lock key for the device, if any
	TailnetLockKey string `pulumi:"tailnetLockKey"`
	// Whether an update is available for the device
	UpdateAvailable bool `pulumi:"updateAvailable"`
	// The user associated with the device
	User string `pulumi:"user"`
	// If specified, the provider will make multiple attempts to obtain the data source until the waitFor duration is reached. Retries are made every second so this value should be greater than 1s
	WaitFor *string `pulumi:"waitFor"`
}

func GetDeviceOutput(ctx *pulumi.Context, args GetDeviceOutputArgs, opts ...pulumi.InvokeOption) GetDeviceResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (GetDeviceResultOutput, error) {
			args := v.(GetDeviceArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("tailscale:index/getDevice:getDevice", args, GetDeviceResultOutput{}, options).(GetDeviceResultOutput), nil
		}).(GetDeviceResultOutput)
}

// A collection of arguments for invoking getDevice.
type GetDeviceOutputArgs struct {
	// The short hostname of the device
	Hostname pulumi.StringPtrInput `pulumi:"hostname"`
	// The full name of the device (e.g. `hostname.domain.ts.net`)
	Name pulumi.StringPtrInput `pulumi:"name"`
	// If specified, the provider will make multiple attempts to obtain the data source until the waitFor duration is reached. Retries are made every second so this value should be greater than 1s
	WaitFor pulumi.StringPtrInput `pulumi:"waitFor"`
}

func (GetDeviceOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*GetDeviceArgs)(nil)).Elem()
}

// A collection of values returned by getDevice.
type GetDeviceResultOutput struct{ *pulumi.OutputState }

func (GetDeviceResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetDeviceResult)(nil)).Elem()
}

func (o GetDeviceResultOutput) ToGetDeviceResultOutput() GetDeviceResultOutput {
	return o
}

func (o GetDeviceResultOutput) ToGetDeviceResultOutputWithContext(ctx context.Context) GetDeviceResultOutput {
	return o
}

// The list of device's IPs
func (o GetDeviceResultOutput) Addresses() pulumi.StringArrayOutput {
	return o.ApplyT(func(v GetDeviceResult) []string { return v.Addresses }).(pulumi.StringArrayOutput)
}

// Whether the device is authorized to access the tailnet
func (o GetDeviceResultOutput) Authorized() pulumi.BoolOutput {
	return o.ApplyT(func(v GetDeviceResult) bool { return v.Authorized }).(pulumi.BoolOutput)
}

// Whether the device blocks incoming connections
func (o GetDeviceResultOutput) BlocksIncomingConnections() pulumi.BoolOutput {
	return o.ApplyT(func(v GetDeviceResult) bool { return v.BlocksIncomingConnections }).(pulumi.BoolOutput)
}

// The Tailscale client version running on the device
func (o GetDeviceResultOutput) ClientVersion() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.ClientVersion }).(pulumi.StringOutput)
}

// The creation time of the device
func (o GetDeviceResultOutput) Created() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.Created }).(pulumi.StringOutput)
}

// The expiry time of the device's key
func (o GetDeviceResultOutput) Expires() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.Expires }).(pulumi.StringOutput)
}

// The short hostname of the device
func (o GetDeviceResultOutput) Hostname() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetDeviceResult) *string { return v.Hostname }).(pulumi.StringPtrOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o GetDeviceResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.Id }).(pulumi.StringOutput)
}

// Whether the device is marked as external
func (o GetDeviceResultOutput) IsExternal() pulumi.BoolOutput {
	return o.ApplyT(func(v GetDeviceResult) bool { return v.IsExternal }).(pulumi.BoolOutput)
}

// Whether the device's key expiry is disabled
func (o GetDeviceResultOutput) KeyExpiryDisabled() pulumi.BoolOutput {
	return o.ApplyT(func(v GetDeviceResult) bool { return v.KeyExpiryDisabled }).(pulumi.BoolOutput)
}

// The last seen time of the device
func (o GetDeviceResultOutput) LastSeen() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.LastSeen }).(pulumi.StringOutput)
}

// The machine key of the device
func (o GetDeviceResultOutput) MachineKey() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.MachineKey }).(pulumi.StringOutput)
}

// The full name of the device (e.g. `hostname.domain.ts.net`)
func (o GetDeviceResultOutput) Name() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetDeviceResult) *string { return v.Name }).(pulumi.StringPtrOutput)
}

// The preferred indentifier for a device.
func (o GetDeviceResultOutput) NodeId() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.NodeId }).(pulumi.StringOutput)
}

// The node key of the device
func (o GetDeviceResultOutput) NodeKey() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.NodeKey }).(pulumi.StringOutput)
}

// The operating system of the device
func (o GetDeviceResultOutput) Os() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.Os }).(pulumi.StringOutput)
}

// The tags applied to the device
func (o GetDeviceResultOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v GetDeviceResult) []string { return v.Tags }).(pulumi.StringArrayOutput)
}

// The tailnet lock error for the device, if any
func (o GetDeviceResultOutput) TailnetLockError() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.TailnetLockError }).(pulumi.StringOutput)
}

// The tailnet lock key for the device, if any
func (o GetDeviceResultOutput) TailnetLockKey() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.TailnetLockKey }).(pulumi.StringOutput)
}

// Whether an update is available for the device
func (o GetDeviceResultOutput) UpdateAvailable() pulumi.BoolOutput {
	return o.ApplyT(func(v GetDeviceResult) bool { return v.UpdateAvailable }).(pulumi.BoolOutput)
}

// The user associated with the device
func (o GetDeviceResultOutput) User() pulumi.StringOutput {
	return o.ApplyT(func(v GetDeviceResult) string { return v.User }).(pulumi.StringOutput)
}

// If specified, the provider will make multiple attempts to obtain the data source until the waitFor duration is reached. Retries are made every second so this value should be greater than 1s
func (o GetDeviceResultOutput) WaitFor() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetDeviceResult) *string { return v.WaitFor }).(pulumi.StringPtrOutput)
}

func init() {
	pulumi.RegisterOutputType(GetDeviceResultOutput{})
}
